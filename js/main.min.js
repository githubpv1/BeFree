function initMap(){var e=new google.maps.LatLng(55.75510374995707,37.62232060707735),t=[new google.maps.LatLng(55.76574389050047,37.70273989522459),new google.maps.LatLng(55.761315137846296,37.52574770772459),new google.maps.LatLng(55.72765991950655,37.61751408852266)],i=document.getElementById("map"),n={center:e,zoom:12,disableDefaultUI:!0,styles:[{stylers:[{visibility:"on"},{saturation:-100}]},{featureType:"water",stylers:[{visibility:"on"},{saturation:100},{hue:"#00ffe6"}]},{featureType:"road",elementType:"geometry",stylers:[{saturation:100},{hue:"#00ffcc"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]}]};if(i)var s=new google.maps.Map(i,n);function a(e){this.pos=e}a.prototype=new google.maps.OverlayView,a.prototype.onRemove=function(){this.div&&this.div.parentNode&&this.div.parentNode.removeChild&&this.div.parentNode.removeChild(this.div)},a.prototype.getDraggable=function(){},a.prototype.getPosition=function(){return this.pos};var o=1;function d(e,t,i){this.content_=e,this.map_=t,this.point_=i,this.setMap(t)}a.prototype.onAdd=function(){this.div=document.createElement("DIV"),this.div.className="marker",this.div.style.position="absolute",this.div.innerHTML=o,o++,this.getPanes().overlayImage.appendChild(this.div);var e=this;this.div.addEventListener("click",(function(t){google.maps.event.trigger(e,"click",{latLng:e.pos})}))},a.prototype.draw=function(){var e=this.getProjection().fromLatLngToDivPixel(this.pos);this.getPanes();this.div.style.left=e.x+"px",this.div.style.top=e.y+"px"},d.prototype=new google.maps.OverlayView,d.prototype.onAdd=function(){var e=this,t=document.createElement("div");t.style.position="absolute",t.classList.add("infowindow"),t.innerHTML=e.content_;var i=document.createElement("div");i.classList.add("close"),i.addEventListener("click",(function(t){t.stopPropagation(),e.toggle()})),t.appendChild(i),e.div_=t,e.getPanes().overlayImage.appendChild(e.div_)},d.prototype.draw=function(){var e=this.getProjection().fromLatLngToDivPixel(this.point_),t=this.div_;window.innerWidth>767&&(t.style.left=e.x+"px",t.style.top=e.y-16+"px")},d.prototype.hide=function(){this.div_&&(this.div_.style.visibility="hidden")},d.prototype.show=function(){this.div_&&(this.div_.style.visibility="visible")},d.prototype.toggle=function(){this.div_&&("hidden"===this.div_.style.visibility?this.show():this.hide())};for(var r=['<div class="infowindow__title">ТЦ Терра</div><div class="infowindow__desc icon-pin">ул. Оболонская 9</div><div class="infowindow__desc icon-phone">7(044)290-37-83</div><div class="infowindow__desc icon-time">Пн-Пт 9.00-20.00 <br> Сб-Вс Выходной</div><p>Вход со стороны двора</p>','<div class="infowindow__title">ТЦ Терра</div><div class="infowindow__desc icon-pin">ул. Оболонская 9</div><div class="infowindow__desc icon-phone">7(044)290-37-83</div><div class="infowindow__desc icon-time">Пн-Пт 9.00-20.00 <br> Сб-Вс Выходной</div><p>Вход со стороны двора</p>','<div class="infowindow__title">ТЦ Терра</div><div class="infowindow__desc icon-pin">ул. Оболонская 9</div><div class="infowindow__desc icon-phone">7(044)290-37-83</div><div class="infowindow__desc icon-time">Пн-Пт 9.00-20.00 <br> Сб-Вс Выходной</div><p>Вход со стороны двора</p>'],l=0;l<t.length;l++){var c=new a(t[l]);c.setMap(s),v(c,r[l],t[l])}function v(e,t,i){var n=new d(t,s,i);e.addListener("click",(function(){n.show()}))}function u(e){this.pos=e}u.prototype=new a,u.prototype.onAdd=function(){this.div=document.createElement("DIV"),this.div.className="mainmarker",this.div.style.position="absolute",this.getPanes().overlayImage.appendChild(this.div);var e=this;this.div.addEventListener("click",(function(t){google.maps.event.trigger(e,"click",{latLng:e.pos})}))};var f=new u(e);f.setMap(s);var h=new d('<div class="infowindow__title">ТЦ Терра</div><div class="infowindow__desc icon-pin">ул. Оболонская 9</div><div class="infowindow__desc icon-phone">7(044)290-37-83</div><div class="infowindow__desc icon-time">Пн-Пт 9.00-20.00 <br> Сб-Вс Выходной</div><p>Вход со стороны двора</p>',s,e);f.addListener("click",(function(){h.show()}))}objectFitImages(),function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){for(var e=document.querySelectorAll("a, button, label, input"),t=!1,i=0;i<e.length;i++){var n=e[i];"LABEL"!==n.tagName&&n.classList.add("focus"),n.addEventListener("mousedown",(function(){this.classList.remove("focus"),t=!0})),n.addEventListener("keydown",(function(e){"Tab"===e.key&&(t=!1)})),n.addEventListener("focus",(function(){t&&this.classList.remove("focus")})),n.addEventListener("blur",(function(){this.classList.add("focus")}))}}(),function(){var e=document.querySelector("[data-up]");var t=0,i=!0;e&&(e.addEventListener("click",(function e(){window.scrollBy(0,-80),window.pageYOffset>0&&requestAnimationFrame(e)})),document.addEventListener("scroll",(function(){i&&(i=!1,setTimeout((function(){var n=window.pageYOffset;n>600&&n<t?e.classList.add("show"):e.classList.remove("show"),t=n,i=!0}),200))})))}(),function(){var e=document.querySelector(".navbar"),t=document.querySelector(".head"),i=document.querySelector("body");document.querySelector(".burger").addEventListener("click",(function(){this.classList.toggle("active"),e.classList.toggle("active"),t.classList.toggle("active"),i.classList.toggle("lock")}))}(),function(){var e=document.querySelectorAll("[data-drop]");if(e)for(var t=0;t<e.length;t++){var i='<span class="visuallyhidden">открыть подменю для“'+e[t].parentElement.querySelector("a").text+"”</span>";e[t].insertAdjacentHTML("beforeend",i),e[t].addEventListener("click",(function(e){this.classList.contains("active")?(this.classList.remove("active"),this.nextElementSibling.classList.remove("show"),this.setAttribute("aria-expanded","false"),this.parentElement.querySelector("a").setAttribute("aria-expanded","false")):(this.classList.add("active"),this.nextElementSibling.classList.add("show"),this.setAttribute("aria-expanded","true"),this.parentElement.querySelector("a").setAttribute("aria-expanded","true"))}))}}(),$(".index-pin__btn").click((function(){$(".map").toggleClass("active")})),$(".shop-pin__btn").click((function(){$(this).toggleClass("active"),$(".filter").slideToggle(500)})),google.maps.event.addDomListener(window,"load",initMap),function(){for(var e,t,i={prevArrow:$(".brand__prev"),nextArrow:$(".brand__next"),infinite:!1,dots:!0,appendDots:$(".user__dots"),slidesToShow:1,slidesToScroll:1},n=document.querySelector(".brand__slider"),s=[].slice.call(document.querySelectorAll(".brand__list2 li"),0),a=[window.matchMedia("(min-width: 480px)"),window.matchMedia("(min-width: 768px)"),window.matchMedia("(min-width: 1200px)")],o=0;o<a.length;o++)a[o].addListener(d);function d(){t=5,a[0].matches&&(t=7),a[1].matches&&(t=9),a[2].matches&&(t=12),$(".brand__slider").hasClass("slick-initialized")&&($(".brand__slider").slick("unslick"),$(".brand__slide").remove());for(var n=(e=s.slice(0)).length;n>0;n-=t)r();$(".brand__slider").slick(i)}function r(){var i=document.createElement("div"),s=document.createElement("ul");imgList=e.splice(0,t);for(var a=0;a<imgList.length;a++)s.insertAdjacentElement("beforeEnd",imgList[a]);i.className="brand__slide",s.className="brand__list",i.insertAdjacentElement("afterBegin",s),n.insertAdjacentElement("beforeEnd",i)}d()}(),$(".store__slider").slick({prevArrow:$(".store__prev"),nextArrow:$(".store__next"),slidesToShow:1,slidesToScroll:1,dots:!0}),function(){var e=window.matchMedia("(min-width: 1350px)");function t(){e.matches?$(".stock__slider").slick({prevArrow:$(".stock__prev"),nextArrow:$(".stock__next"),slidesToShow:1,slidesToScroll:1,dots:!0}):$(".stock__slider").hasClass("slick-initialized")&&$(".stock__slider").slick("unslick")}e.addListener(t);var i=document.querySelector(".stock");if(i){var n=new MutationObserver((function(){t(),n.disconnect()}));n.observe(i,{attributes:!0,attributeFilter:["style"]})}}(),function(){var e=document.querySelectorAll("[data-select]");if(e){for(var t=0;t<e.length;t++)i(t);function i(t){var i,n=e[t],s=n.classList,a=n.parentElement,o=n.querySelector(".invalid"),d=n.querySelector("option:checked"),r=d.textContent,l=d.value,c=[];function v(e){if(s){for(var t="",i=0;i<s.length;i++)t=t+" "+s[i]+e;return t}}!function(e){var t,n=e.querySelectorAll("option"),s=d.getAttribute("class");t=o?'<div class="'+v("-custom__btn")+' invalid">'+r+"</div>":'<div class="'+v("-custom__btn")+s+'">'+r+"</div>";a.insertAdjacentHTML("beforeend",'<div class="'+v("-custom")+'" aria-hidden="true">'+t+'<div class="'+v("-custom__options")+'">'+function(e){if(e){for(var t="",n=0;n<e.length;n++){var s=e[n],a=s.value;if(!s.hasAttribute("hidden")){var o=s.getAttribute("class")||"";c.push(o)}if(s==d&&(i=n),""!=a){var r=s.text;t=t+'<div data-value="'+a+'" class="'+v("-custom__option")+" "+o+' ">'+r+"</div>"}}return t}}(n)+"</div></div></div>")}(n);var u=n.nextElementSibling,f=u.children[0],h=u.children[1],p=[].slice.call(h.children,0),m=p.length,g=-1;function y(){u.classList.remove("isActive"),a.classList.remove("isActive"),u.setAttribute("aria-hidden",!0),w(-1),document.removeEventListener("click",b),document.removeEventListener("keydown",_)}function w(e){var t=h.children[g],i=h.children[e];t&&t.classList.remove("isHover"),i&&i.classList.add("isHover"),g=e}function L(e,t,i){var n=l,s=h.querySelector(`[data-value="${n}"`),a=h.querySelector(`[data-value="${e}"`);s&&s.classList.remove("isActive"),a&&a.classList.add("isActive"),f.textContent=t,f.className=v("-custom__btn")+" "+c[i],l=e}function b(e){!u.contains(e.target)&&y()}function _(e){if(40===e.keyCode&&g<m-1){e.preventDefault(),w(g+1)}if(38===e.keyCode&&g>0&&(e.preventDefault(),w(g-1)),13===e.keyCode||32===e.keyCode){e.preventDefault();var t=h.children[g],i=t&&t.getAttribute("data-value");i&&(n.value=i,L(i,t.textContent)),y()}27===e.keyCode&&y()}l&&L(l,r,i),f.addEventListener("click",(function(e){!u.classList.contains("isActive")?function(){if(u.classList.add("isActive"),a.classList.add("isActive"),u.setAttribute("aria-hidden",!1),l){for(var e=0;e<p.length;e++){p[e].getAttribute("data-value")===l&&(i=e)}w(i)}document.addEventListener("click",b),document.addEventListener("keydown",_)}():y()})),n.addEventListener("change",(function(e){var t=e.target.value,i=h.querySelector(`[data-value="${t}"]`),n=function(e){for(var t=0;e=e.previousElementSibling;t++);return t}(i);L(t,i.textContent,n)}));for(t=0;t<p.length;t++)A(t);function A(e){var t=p[e];t.addEventListener("click",(function(t){var i=t.target.getAttribute("data-value");n.value=i,L(i,t.target.textContent,e),y()})),t.addEventListener("mouseenter",(function(t){w(e)}))}n.addEventListener("click",(function(){a.classList.toggle("oupen")})),n.addEventListener("keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||a.classList.toggle("oupen")})),n.addEventListener("focus",(function(){a.classList.add("focus")})),n.addEventListener("blur",(function(){a.classList.remove("oupen"),a.classList.remove("focus")}))}}}(),function(){var e=document.querySelector(".rating");if(e)for(var t=e.querySelectorAll("input"),i=0;i<t.length;i++)t[i].addEventListener("focus",(function(){this.classList.contains("focus")&&e.classList.add("focus")})),t[i].addEventListener("blur",(function(){e.classList.remove("focus")}))}(),function(){var e=document.querySelectorAll("form");if(e)for(let t=0;t<e.length;t++)e[t].addEventListener("submit",v);var t=document.querySelectorAll("input[required]");if(t)for(var i=0;i<t.length;i++)t[i].addEventListener("blur",s),t[i].addEventListener("focus",n);function n(){var e=this.parentElement.querySelector(".error");this.classList.remove("invalid"),e.classList.remove("active"),e.addEventListener("transitionend",(function(){this.classList.contains("active")||(this.innerHTML="")}))}function s(){var e=this.parentElement.querySelector(".error");return this.validity.valid?0:(this.classList.add("invalid"),e.classList.add("active"),e.innerHTML="ошибка / неправильный формат",(this.validity.valueMissing||""===this.value)&&(e.classList.add("active"),e.innerHTML="ошибка / заполните поле"),1)}var a,o=document.querySelector(".rating");if(o){var d=o.querySelectorAll("input");for(i=0;i<d.length;i++)d[i].addEventListener("focus",r),d[i].addEventListener("blur",l)}function r(){var e=o.nextElementSibling;o.classList.remove("invalid"),e.classList.remove("active"),e.addEventListener("transitionend",(function(){this.classList.contains("active")||(this.innerHTML="")}))}function l(){var e=o.nextElementSibling;return o.querySelector('[name="rating"]').checked?(o.classList.add("invalid"),e.classList.add("active"),e.innerHTML="ошибка / заполните поле",1):0}function c(e){var t=this.hasAttribute("data-test");a=this.getAttribute("data-message");var i=this.querySelector(".rating"),n=this.querySelectorAll("input[required]"),o=this.querySelector('input[name="agree"]'),d=0;if(!o||o.checked){i&&(d+=l());for(var r=0;r<n.length;r++){var c=n[r];(d+=s.call(c))&&e.preventDefault()}}else e.preventDefault(),d++;return t&&0===d&&(e.preventDefault(),d++,this.reset(),u("test")),d}function v(e){e.preventDefault();var t=this;if(0===c.call(t,e)){this.classList.add("sending");var i=new FormData(this),n=new XMLHttpRequest;n.open("POST",this.getAttribute("action")),n.send(i),n.onloadend=function(){200==n.status?(t.classList.remove("sending"),t.reset(),u.call(t,n.response)):console.log("Ошибка"+this.status)}}}function u(e){if(a){var t=document.querySelector("#dialog-"+a).querySelector("[data-message-text]");t&&(t.textContent=e),window.innerWidth<768?window.replaceDialog("dialog-"+a):window.openDialog("dialog-"+a,this)}}}(),function(){var e=document.querySelector(".file__name"),t=document.querySelector(".file__input");if(e&&t){t.addEventListener("change",(function(){files=this.files,1==files.length?e.innerHTML="Имя файла: "+files[0].name:e.innerHTML="Выбрано "+files.length+" Файла(ов)"}))}}(),$("[data-btn-more]").each((function(){var e=$(this).parent();$(this).on("click",(function(){e.find("p:hidden").slice(0,1).slideDown(500),0==e.find("p:hidden").length&&$(this).text("Конец").addClass("hidden")}))})),function(){var e=$(".stock__slider");$(".stock__btn-more").on("click",(function(){e.find("div:hidden").slice(0,1).slideDown(500),0==e.find("div:hidden").length&&$(this).text("Конец").addClass("hidden")}))}(),$(".reviews__btn-md").click((function(){$(this).toggleClass("hidden"),$(".reviews__form-wrap").slideToggle(500)})),$(".btn-cancel").click((function(){$(".reviews__btn-md").removeClass("hidden"),$(".reviews__form-wrap").slideUp(500)})),function(){var e=document.querySelectorAll(".check");if(e)for(var t=0;t<e.length;t++)i.call(e[t]),e[t].addEventListener("click",i);function i(){this.querySelector(".check__input:checked")?this.nextElementSibling.style.display="flex":this.nextElementSibling.style.display="none"}function n(){var e=document.querySelectorAll(".btn-del");if(e)for(var t=0;t<e.length;t++)e[t].addEventListener("click",(function(){var e=this.parentElement,t=e.parentElement;t.removeChild(e),t.children.length>2&&(t.lastElementChild.previousElementSibling.insertAdjacentHTML("beforeEnd",'<button class="btn btn-del icon-close" type="button"></button>'),n())}))}n();var s=document.querySelectorAll(".btn-add");if(s)for(t=0;t<s.length;t++)s[t].addEventListener("click",(function(){var e=this.parentElement,t=e.querySelector(".btn-del");t&&t.parentElement.removeChild(t);var i=e.children[0].cloneNode(!0);this.insertAdjacentElement("beforeBegin",i),i.insertAdjacentHTML("beforeEnd",'<button class="btn btn-del icon-close" type="button"></button>'),n()}))}(),function(){if(document.querySelector("[data-move]")){var e=[window.matchMedia("(min-width: 768px) and (max-width: 1199px)"),window.matchMedia("(max-width: 1199px)")];for(i=0;i<e.length;i++)e[i].addListener(t.bind(null,i)),t(i);function t(t){var i=document.querySelectorAll('[data-media="'+t+'"]');if(i)for(var n=0;n<i.length;n++){var s=i[n],a=s.getAttribute("data-move"),o=document.querySelector('[data-start="'+a+'"]'),d=document.querySelector('[data-where="'+a+'"]');e[t].matches?s.classList.contains("done")||(d.appendChild(s),s.classList.add("done")):s.classList.contains("done")&&(o.appendChild(s),s.classList.remove("done"))}}}}(),function(){var e=$("[data-spoiler] [data-btn]");e.filter(".active").next().slideDown(0),e.click((function(){var e=$(this).closest("[data-spoiler]"),t=e.attr("data-spoiler"),i=e.find("[data-btn]");"toggle"===t?(i.not($(this)).removeClass("active"),i.next().not($(this).next()).slideUp(500),$(this).toggleClass("active").next().slideToggle(500)):"one"===t?(i.not($(this)).removeClass("active"),i.next().not($(this).next()).slideUp(500),$(this).addClass("active").next().slideDown(500)):$(this).toggleClass("active").next().slideToggle(500)}))}(),$("[data-tabs]").on("click","[data-btn]:not(.active)",(function(){$(this).addClass("active").siblings().removeClass("active").closest("[data-tabs]").find("[data-panel]").slideUp(500).eq($(this).index()).slideDown(500)})),function(){function e(){var e=$(this).attr("data-btn"),t=$(this).closest("[data-tabs-sp]").find('[data-btn="'+e+'"]').removeClass("active").index(this);$(this).addClass("active").closest("[data-tabs-sp]").find('[data-panel="'+e+'"]').slideUp(500).eq(t).slideDown(500)}function t(){var e=$(this).attr("data-btn");$(this).removeClass("active").closest("[data-tabs-sp]").find('[data-panel="'+e+'"]').slideUp(500)}$("[data-tabs-sp] [data-btn]").on("click",(function(){"toggle"==$(this).closest("[data-tabs-sp]").attr("data-tabs-sp")?$(this).hasClass("active")?t.call($(this)):e.call($(this)):$(this).hasClass("active")||e.call($(this))}))}(),$("[data-pass-view]").on("click",(function(){var e=$(this).parent().find("input");"password"==e.attr("type")?($(this).removeClass("icon-eye-close").addClass("icon-eye"),e.attr("type","text")):($(this).removeClass("icon-eye").addClass("icon-eye-close"),e.attr("type","password"))}));