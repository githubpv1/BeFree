function initMap(){function e(e){this.pos=e}function t(e,t,i){this.content_=e,this.map_=t,this.point_=i,this.setMap(t)}function i(e,i,n){var s=new t(i,l,n);e.addListener("click",function(){s.show()})}function n(e){this.pos=e}var s=new google.maps.LatLng(55.75510374995707,37.62232060707735),a=[new google.maps.LatLng(55.76574389050047,37.70273989522459),new google.maps.LatLng(55.761315137846296,37.52574770772459),new google.maps.LatLng(55.72765991950655,37.61751408852266)],o=document.getElementById("map"),d=[{stylers:[{visibility:"on"},{saturation:-100}]},{featureType:"water",stylers:[{visibility:"on"},{saturation:100},{hue:"#00ffe6"}]},{featureType:"road",elementType:"geometry",stylers:[{saturation:100},{hue:"#00ffcc"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]}],r={center:s,zoom:12,disableDefaultUI:!0,styles:d};if(o)var l=new google.maps.Map(o,r);e.prototype=new google.maps.OverlayView,e.prototype.onRemove=function(){this.div&&this.div.parentNode&&this.div.parentNode.removeChild&&this.div.parentNode.removeChild(this.div)},e.prototype.getDraggable=function(){},e.prototype.getPosition=function(){return this.pos};var c=1;e.prototype.onAdd=function(){this.div=document.createElement("DIV"),this.div.className="marker",this.div.style.position="absolute",this.div.innerHTML=c,c++;var e=this.getPanes();e.overlayImage.appendChild(this.div);var t=this;this.div.addEventListener("click",function(e){google.maps.event.trigger(t,"click",{latLng:t.pos})})},e.prototype.draw=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.pos);this.getPanes();this.div.style.left=t.x+"px",this.div.style.top=t.y+"px"},t.prototype=new google.maps.OverlayView,t.prototype.onAdd=function(){var e=this,t=document.createElement("div");t.style.position="absolute",t.classList.add("infowindow"),t.innerHTML=e.content_;var i=document.createElement("div");i.classList.add("close"),i.addEventListener("click",function(t){t.stopPropagation(),e.toggle()}),t.appendChild(i),e.div_=t;var n=e.getPanes();n.overlayImage.appendChild(e.div_)},t.prototype.draw=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.point_),i=this.div_;window.innerWidth>767&&(i.style.left=t.x+"px",i.style.top=t.y-16+"px")},t.prototype.hide=function(){this.div_&&(this.div_.style.visibility="hidden")},t.prototype.show=function(){this.div_&&(this.div_.style.visibility="visible")},t.prototype.toggle=function(){this.div_&&("hidden"===this.div_.style.visibility?this.show():this.hide())};for(var v=['<div class="infowindow__title">ТЦ Терра</div><div class="infowindow__desc icon-pin">ул. Оболонская 9</div><div class="infowindow__desc icon-phone">7(044)290-37-83</div><div class="infowindow__desc icon-time">Пн-Пт 9.00-20.00 <br> Сб-Вс Выходной</div><p>Вход со стороны двора</p>','<div class="infowindow__title">ТЦ Терра</div><div class="infowindow__desc icon-pin">ул. Оболонская 9</div><div class="infowindow__desc icon-phone">7(044)290-37-83</div><div class="infowindow__desc icon-time">Пн-Пт 9.00-20.00 <br> Сб-Вс Выходной</div><p>Вход со стороны двора</p>','<div class="infowindow__title">ТЦ Терра</div><div class="infowindow__desc icon-pin">ул. Оболонская 9</div><div class="infowindow__desc icon-phone">7(044)290-37-83</div><div class="infowindow__desc icon-time">Пн-Пт 9.00-20.00 <br> Сб-Вс Выходной</div><p>Вход со стороны двора</p>'],u=0;u<a.length;u++){var f=new e(a[u]);f.setMap(l),i(f,v[u],a[u])}n.prototype=new e,n.prototype.onAdd=function(){this.div=document.createElement("DIV"),this.div.className="mainmarker",this.div.style.position="absolute";var e=this.getPanes();e.overlayImage.appendChild(this.div);var t=this;this.div.addEventListener("click",function(e){google.maps.event.trigger(t,"click",{latLng:t.pos})})};var h=new n(s);h.setMap(l);var p='<div class="infowindow__title">ТЦ Терра</div><div class="infowindow__desc icon-pin">ул. Оболонская 9</div><div class="infowindow__desc icon-phone">7(044)290-37-83</div><div class="infowindow__desc icon-time">Пн-Пт 9.00-20.00 <br> Сб-Вс Выходной</div><p>Вход со стороны двора</p>',m=new t(p,l,s);h.addListener("click",function(){m.show()})}objectFitImages(),function(){function e(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}e(function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})}(),function(){for(var e=document.querySelectorAll("a, button, label, input"),t=!1,i=0;i<e.length;i++){var n=e[i];"LABEL"!==n.tagName&&n.classList.add("focus"),n.addEventListener("mousedown",function(){this.classList.remove("focus"),t=!0}),n.addEventListener("keydown",function(e){"Tab"===e.key&&(t=!1)}),n.addEventListener("focus",function(){t&&this.classList.remove("focus")}),n.addEventListener("blur",function(){this.classList.add("focus")})}}(),function(){function e(){window.scrollBy(0,-80),window.pageYOffset>0&&requestAnimationFrame(e)}function t(){s&&(s=!1,setTimeout(function(){var e=window.pageYOffset;e>600&&e<n?i.classList.add("show"):i.classList.remove("show"),n=e,s=!0},200))}var i=document.querySelector("[data-up]"),n=0,s=!0;i&&(i.addEventListener("click",e),document.addEventListener("scroll",t))}(),function(){function e(){this.classList.toggle("active"),t.classList.toggle("active"),i.classList.toggle("active"),n.classList.toggle("lock")}var t=document.querySelector(".navbar"),i=document.querySelector(".head"),n=document.querySelector("body"),s=document.querySelector(".burger");s.addEventListener("click",e)}(),function(){var e=document.querySelectorAll("[data-drop]");if(e)for(var t=0;t<e.length;t++){var i=e[t].parentElement.querySelector("a"),n='<span class="visuallyhidden">открыть подменю для“'+i.text+"”</span>";e[t].insertAdjacentHTML("beforeend",n),e[t].addEventListener("click",function(e){this.classList.contains("active")?(this.classList.remove("active"),this.nextElementSibling.classList.remove("show"),this.setAttribute("aria-expanded","false"),this.parentElement.querySelector("a").setAttribute("aria-expanded","false")):(this.classList.add("active"),this.nextElementSibling.classList.add("show"),this.setAttribute("aria-expanded","true"),this.parentElement.querySelector("a").setAttribute("aria-expanded","true"))})}}(),$(".index-pin__btn").click(function(){$(".map").toggleClass("active")}),$(".shop-pin__btn").click(function(){$(this).toggleClass("active"),$(".filter").slideToggle(500)}),google.maps.event.addDomListener(window,"load",initMap),function(){function e(){n=5,d[0].matches&&(n=7),d[1].matches&&(n=9),d[2].matches&&(n=12),$(".brand__slider").hasClass("slick-initialized")&&($(".brand__slider").slick("unslick"),$(".brand__slide").remove()),i=o.slice(0);for(var e=i.length;e>0;e-=n)t();$(".brand__slider").slick(s)}function t(){var e=document.createElement("div"),t=document.createElement("ul");imgList=i.splice(0,n);for(var s=0;s<imgList.length;s++)t.insertAdjacentElement("beforeEnd",imgList[s]);e.className="brand__slide",t.className="brand__list",e.insertAdjacentElement("afterBegin",t),a.insertAdjacentElement("beforeEnd",e)}for(var i,n,s={prevArrow:$(".brand__prev"),nextArrow:$(".brand__next"),infinite:!1,dots:!0,appendDots:$(".user__dots"),slidesToShow:1,slidesToScroll:1},a=document.querySelector(".brand__slider"),o=[].slice.call(document.querySelectorAll(".brand__list2 li"),0),d=[window.matchMedia("(min-width: 480px)"),window.matchMedia("(min-width: 768px)"),window.matchMedia("(min-width: 1200px)")],r=0;r<d.length;r++)d[r].addListener(e);e()}(),$(document).ready(function(){$(".store__slider").slick({prevArrow:$(".store__prev"),nextArrow:$(".store__next"),slidesToShow:1,slidesToScroll:1,dots:!0})}),function(){function e(){t.matches?$(".stock__slider").slick({prevArrow:$(".stock__prev"),nextArrow:$(".stock__next"),slidesToShow:1,slidesToScroll:1,dots:!0}):$(".stock__slider").hasClass("slick-initialized")&&$(".stock__slider").slick("unslick")}var t=window.matchMedia("(min-width: 1350px)");t.addListener(e);var i=document.querySelector(".stock");if(i){var n={attributes:!0,attributeFilter:["style"]},s=new MutationObserver(a);function a(){e(),s.disconnect()}s.observe(i,n)}}(),function(){var e=document.querySelectorAll("[data-select]");if(e){for(var t=0;t<e.length;t++)i(t);function i(t){function i(e){if(p){for(var t="",i=0;i<p.length;i++)t=t+" "+p[i]+e;return t}}function n(e){var t,n=e.querySelectorAll("option"),a=y.getAttribute("class");t=g?'<div class="'+i("-custom__btn")+' invalid">'+w+"</div>":'<div class="'+i("-custom__btn")+a+'">'+w+"</div>",m.insertAdjacentHTML("beforeend",'<div class="'+i("-custom")+'" aria-hidden="true">'+t+'<div class="'+i("-custom__options")+'">'+s(n)+"</div></div></div>")}function s(e){if(e){for(var t="",n=0;n<e.length;n++){var s=e[n],a=s.value;if(!s.hasAttribute("hidden")){var o=s.getAttribute("class")||"";b.push(o)}if(s==y&&(f=n),""!=a){var d=s.text;t=t+'<div data-value="'+a+'" class="'+i("-custom__option")+" "+o+' ">'+d+"</div>"}}return t}}function a(){if(_.classList.add("isActive"),m.classList.add("isActive"),_.setAttribute("aria-hidden",!1),L){for(var e=0;e<k.length;e++){var t=k[e].getAttribute("data-value");t===L&&(f=e)}d(f)}document.addEventListener("click",l),document.addEventListener("keydown",c)}function o(){_.classList.remove("isActive"),m.classList.remove("isActive"),_.setAttribute("aria-hidden",!0),d(-1),document.removeEventListener("click",l),document.removeEventListener("keydown",c)}function d(e){var t=E.children[$],i=E.children[e];t&&t.classList.remove("isHover"),i&&i.classList.add("isHover"),$=e}function r(e,t,n){var s=L,a=E.querySelector(`[data-value="${s}"`),o=E.querySelector(`[data-value="${e}"`);a&&a.classList.remove("isActive"),o&&o.classList.add("isActive"),A.textContent=t,A.className=i("-custom__btn")+" "+b[n],L=e}function l(e){var t=!_.contains(e.target);t&&o()}function c(e){if(40===e.keyCode&&$<S-1){e.preventDefault(),d($+1)}if(38===e.keyCode&&$>0&&(e.preventDefault(),d($-1)),13===e.keyCode||32===e.keyCode){e.preventDefault();var t=E.children[$],i=t&&t.getAttribute("data-value");i&&(h.value=i,r(i,t.textContent)),o()}27===e.keyCode&&o()}function v(e){for(var t=0;e=e.previousElementSibling;t++);return t}function u(e){var t=k[e];t.addEventListener("click",function(t){var i=t.target.getAttribute("data-value");h.value=i,r(i,t.target.textContent,e),o()}),t.addEventListener("mouseenter",function(t){d(e)})}var f,h=e[t],p=h.classList,m=h.parentElement,g=h.querySelector(".invalid"),y=h.querySelector("option:checked"),w=y.textContent,L=y.value,b=[];n(h);var _=h.nextElementSibling,A=_.children[0],E=_.children[1],k=[].slice.call(E.children,0),S=k.length,$=-1;L&&r(L,w,f),A.addEventListener("click",function(e){var t=!_.classList.contains("isActive");t?a():o()}),h.addEventListener("change",function(e){var t=e.target.value,i=E.querySelector(`[data-value="${t}"]`),n=v(i);r(t,i.textContent,n)});for(t=0;t<k.length;t++)u(t);h.addEventListener("click",function(){m.classList.toggle("oupen")}),h.addEventListener("keydown",function(e){13!==e.keyCode&&32!==e.keyCode||m.classList.toggle("oupen")}),h.addEventListener("focus",function(){m.classList.add("focus")}),h.addEventListener("blur",function(){m.classList.remove("oupen"),m.classList.remove("focus")})}}}(),function(){var e=document.querySelector(".rating");if(e)for(var t=e.querySelectorAll("input"),i=0;i<t.length;i++)t[i].addEventListener("focus",function(){this.classList.contains("focus")&&e.classList.add("focus")}),t[i].addEventListener("blur",function(){e.classList.remove("focus")})}(),function(){function e(){var e=this.parentElement.querySelector(".error");this.classList.remove("invalid"),e.classList.remove("active"),e.addEventListener("transitionend",function(){this.classList.contains("active")||(this.innerHTML="")})}function t(){var e=this.parentElement.querySelector(".error");return this.validity.valid?0:(this.classList.add("invalid"),e.classList.add("active"),e.innerHTML="ошибка / неправильный формат",(this.validity.valueMissing||""===this.value)&&(e.classList.add("active"),e.innerHTML="ошибка / заполните поле"),1)}function i(){var e=v.nextElementSibling;v.classList.remove("invalid"),e.classList.remove("active"),e.addEventListener("transitionend",function(){this.classList.contains("active")||(this.innerHTML="")})}function n(){var e=v.nextElementSibling,t=v.querySelector('[name="rating"]');return t.checked?(v.classList.add("invalid"),e.classList.add("active"),e.innerHTML="ошибка / заполните поле",1):0}function s(e){var i=this.hasAttribute("data-test");c=this.getAttribute("data-message");var s=this.querySelector(".rating"),a=this.querySelectorAll("input[required]"),d=this.querySelector('input[name="agree"]'),r=0;if(!d||d.checked){s&&(r+=n());for(var l=0;l<a.length;l++){var v=a[l];r+=t.call(v),r&&e.preventDefault()}}else e.preventDefault(),r++;return i&&0===r&&(e.preventDefault(),r++,this.reset(),o("test")),r}function a(e){e.preventDefault();var t=this,i=s.call(t,e);if(0===i){this.classList.add("sending");var n=new FormData(this),a=new XMLHttpRequest;a.open("POST",this.getAttribute("action")),a.send(n),a.onloadend=function(){200==a.status?(t.classList.remove("sending"),t.reset(),o.call(t,a.response)):console.log("Ошибка"+this.status)}}}function o(e){if(c){var t=document.querySelector("#dialog-"+c),i=t.querySelector("[data-message-text]");i&&(i.textContent=e),window.innerWidth<768?window.replaceDialog("dialog-"+c):window.openDialog("dialog-"+c,this)}}var d=document.querySelectorAll("form");if(d)for(let e=0;e<d.length;e++)d[e].addEventListener("submit",a);var r=document.querySelectorAll("input[required]");if(r)for(var l=0;l<r.length;l++)r[l].addEventListener("blur",t),r[l].addEventListener("focus",e);var c,v=document.querySelector(".rating");if(v){var u=v.querySelectorAll("input");for(l=0;l<u.length;l++)u[l].addEventListener("focus",i),u[l].addEventListener("blur",n)}}(),function(){var e=document.querySelector(".file__name"),t=document.querySelector(".file__input");if(e&&t){function i(){files=this.files,1==files.length?e.innerHTML="Имя файла: "+files[0].name:e.innerHTML="Выбрано "+files.length+" Файла(ов)"}t.addEventListener("change",i)}}(),$("[data-btn-more]").each(function(){var e=$(this).parent();$(this).on("click",function(){e.find("p:hidden").slice(0,1).slideDown(500),0==e.find("p:hidden").length&&$(this).text("Конец").addClass("hidden")})}),function(){var e=$(".stock__slider");$(".stock__btn-more").on("click",function(){e.find("div:hidden").slice(0,1).slideDown(500),0==e.find("div:hidden").length&&$(this).text("Конец").addClass("hidden")})}(),$(".reviews__btn-md").click(function(){$(this).toggleClass("hidden"),$(".reviews__form-wrap").slideToggle(500)}),$(".btn-cancel").click(function(){$(".reviews__btn-md").removeClass("hidden"),$(".reviews__form-wrap").slideUp(500)}),function(){function e(){this.querySelector(".check__input:checked")?this.nextElementSibling.style.display="flex":this.nextElementSibling.style.display="none"}function t(){var e=document.querySelectorAll(".btn-del");if(e)for(var i=0;i<e.length;i++)e[i].addEventListener("click",function(){var e=this.parentElement,i=e.parentElement;i.removeChild(e);var n=i.children;n.length>2&&(i.lastElementChild.previousElementSibling.insertAdjacentHTML("beforeEnd",'<button class="btn btn-del icon-close" type="button"></button>'),t())})}var i=document.querySelectorAll(".check");if(i)for(var n=0;n<i.length;n++)e.call(i[n]),i[n].addEventListener("click",e);t();var s=document.querySelectorAll(".btn-add");if(s)for(n=0;n<s.length;n++)s[n].addEventListener("click",function(){var e=this.parentElement,i=e.querySelector(".btn-del");i&&i.parentElement.removeChild(i);var n=e.children[0].cloneNode(!0);this.insertAdjacentElement("beforeBegin",n),n.insertAdjacentHTML("beforeEnd",'<button class="btn btn-del icon-close" type="button"></button>'),t()})}(),function(){var e=document.querySelector("[data-move]");if(e){var t=[window.matchMedia("(min-width: 768px) and (max-width: 1199px)"),window.matchMedia("(max-width: 1199px)")];for(i=0;i<t.length;i++)t[i].addListener(n.bind(null,i)),n(i);function n(e){var i=document.querySelectorAll('[data-media="'+e+'"]');if(i)for(var n=0;n<i.length;n++){var s=i[n],a=s.getAttribute("data-move"),o=document.querySelector('[data-start="'+a+'"]'),d=document.querySelector('[data-where="'+a+'"]');t[e].matches?s.classList.contains("done")||(d.appendChild(s),s.classList.add("done")):s.classList.contains("done")&&(o.appendChild(s),s.classList.remove("done"))}}}}(),function(){var e=$("[data-spoiler] [data-btn]");e.filter(".active").next().slideDown(0),e.click(function(){var e=$(this).closest("[data-spoiler]"),t=e.attr("data-spoiler"),i=e.find("[data-btn]");"toggle"===t?(i.not($(this)).removeClass("active"),i.next().not($(this).next()).slideUp(500),$(this).toggleClass("active").next().slideToggle(500)):"one"===t?(i.not($(this)).removeClass("active"),i.next().not($(this).next()).slideUp(500),$(this).addClass("active").next().slideDown(500)):$(this).toggleClass("active").next().slideToggle(500)})}(),$("[data-tabs]").on("click","[data-btn]:not(.active)",function(){$(this).addClass("active").siblings().removeClass("active").closest("[data-tabs]").find("[data-panel]").slideUp(500).eq($(this).index()).slideDown(500)}),function(){function e(){var e=$(this).attr("data-btn"),t=$(this).closest("[data-tabs-sp]").find('[data-btn="'+e+'"]').removeClass("active").index(this);$(this).addClass("active").closest("[data-tabs-sp]").find('[data-panel="'+e+'"]').slideUp(500).eq(t).slideDown(500)}function t(){var e=$(this).attr("data-btn");$(this).removeClass("active").closest("[data-tabs-sp]").find('[data-panel="'+e+'"]').slideUp(500)}$("[data-tabs-sp] [data-btn]").on("click",function(){var i=$(this).closest("[data-tabs-sp]").attr("data-tabs-sp");"toggle"==i?$(this).hasClass("active")?t.call($(this)):e.call($(this)):$(this).hasClass("active")||e.call($(this))})}(),$("[data-pass-view]").on("click",function(){var e=$(this).parent().find("input");"password"==e.attr("type")?($(this).removeClass("icon-eye-close").addClass("icon-eye"),e.attr("type","text")):($(this).removeClass("icon-eye").addClass("icon-eye-close"),e.attr("type","password"))});